<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="./vite.svg" type="image/svg+xml">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <title>Krackend Premium</title>
  <style>
    /* Premium Purple Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #0a0a0a;
    }

    ::-webkit-scrollbar-thumb {
      background: #6d28d9;
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #7c3aed;
    }

    /* Standard Layout Reset */
    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      /* Let internal app containers handle scrolling */
      background: #000;
    }

    #root {
      height: 100%;
      width: 100%;
      overflow: hidden;
      /* App usually has its own scrollable main content area */
    }
  </style>
  <script type="module" crossorigin src="./assets/index-ZcL8yOtX.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-DiqHOMWM.css">
</head>

<body>
  <div id="root"></div>
  <script>
    // KRACKEND UI CLEANUP & BRANDING ENFORCER
    (function () {
      const BRAND_NAME = 'Krackend Premium';
      document.title = BRAND_NAME;

      // KRACKEND UI CLEANUP & BRANDING ENFORCER
      const CORRECT_DISCORD = 'https://discord.gg/9ndyjaM4';

      const observer = new MutationObserver((mutations) => {
        if (document.title !== BRAND_NAME) document.title = BRAND_NAME;

        // Perform deep text replacement to catch hardcoded legacy strings
        const walk = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, null, false);
        let node;
        while (node = walk.nextNode()) {
          const content = node.nodeValue;
          if (content.includes('Distill') || content.includes('6.0.0')) {
            node.nodeValue = content.replace(/Distill/g, 'Krackend Premium').replace(/6\.0\.0/g, '1.2.0');
          }
        }

        // AGGRESSIVE DISCORD LINK HIJACKING
        document.querySelectorAll('a').forEach(a => {
          const isDiscord = a.href.includes('discord.gg/') || a.href.includes('discord.com/invite/');
          if (isDiscord && !a.href.includes('9ndyjaM4')) {
            console.log('[DEBUG] Intercepted old Discord link:', a.href);
            a.href = CORRECT_DISCORD;
          }
        });

        const candidates = document.querySelectorAll('button, div[role="button"], li, span, h2, h3, p');

        candidates.forEach(el => {
          if (!el) return;
          const text = el.textContent ? el.textContent.trim() : '';

          if (text === 'Account Settings') {
            if (el.tagName === 'BUTTON' || el.parentElement.tagName === 'LI' || el.classList.contains('cursor-pointer')) {
              el.style.display = 'none';
              if (el.parentElement && el.parentElement.tagName === 'LI') {
                el.parentElement.style.display = 'none';
              }
            }
          }

          if ((text === 'Log In' || text === 'Sign Up') && (el.tagName === 'H2' || el.tagName === 'H3' || el.tagName === 'BUTTON')) {
            el.style.display = 'none';
            const form = el.closest('form');
            if (form) form.style.display = 'none';
            const card = el.closest('.cyber-card') || el.closest('.bg-neutral-900');
            if (card && card.querySelector('input[type="password"]')) {
              card.style.display = 'none';
            }
          }
        });
      });

      observer.observe(document.body, { childList: true, subtree: true });

      // GLOBAL CLICK INTERCEPTOR (Just in case it's JS-triggered)
      document.addEventListener('click', (e) => {
        const target = e.target.closest('button, a, div[role="button"]');
        if (target) {
          const text = target.textContent.trim().toLowerCase();
          const href = (target.href || '').toLowerCase();

          const isDiscordText = text.includes('discord') || text.includes('support') || text.includes('premium');
          const isDiscordLink = href.includes('discord.gg/') || href.includes('discord.com/invite/');

          if (isDiscordText || isDiscordLink) {
            console.log('[DEBUG-ENFORCER] Discord click detected on:', target);

            // If it's the correct link, let it flow (but ensure it doesn't get hijacked by old logic)
            if (href.includes('9ndyjaM4')) return;

            // BLOCK EVERYTHING ELSE
            e.preventDefault();
            e.stopImmediatePropagation();
            console.log('[DEBUG-ENFORCER] FORCING CORRECT DISCORD LINK');

            // Use the most reliable method available
            const correctUrl = 'https://discord.gg/9ndyjaM4';

            if (window.electron && window.electron.shell) {
              window.electron.shell.openExternal(correctUrl);
            } else if (window.electronAPI && window.electronAPI.openExternal) {
              window.electronAPI.openExternal(correctUrl);
            } else {
              window.open(correctUrl, '_blank');
            }
          }
        }
      }, true); // Use Capturing phase to catch it BEFORE the app does
    })();
  </script>
</body>

</html>